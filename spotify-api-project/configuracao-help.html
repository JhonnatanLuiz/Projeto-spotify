<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéµ Spotify API - Instru√ß√µes de Configura√ß√£o</title>
    <style>
        body {
            background-color: #121212;
            color: #fff;
            font-family: Arial, sans-serif;
            padding: 20px;
            max-width: 1000px;
            margin: 0 auto;
            line-height: 1.6;
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        .step {
            background-color: #1e1e1e;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            border-left: 4px solid #1db954;
        }
        .step h3 {
            color: #1db954;
            margin-top: 0;
        }
        .code {
            background-color: #2d2d2d;
            padding: 15px;
            border-radius: 5px;
            font-family: monospace;
            margin: 10px 0;
            overflow-x: auto;
        }
        .warning {
            background-color: #2d1e1e;
            border-left-color: #ff6b6b;
            color: #ff6b6b;
        }
        .success {
            background-color: #1e2d1e;
            border-left-color: #51cf66;
            color: #51cf66;
        }
        .info {
            background-color: #1e1f2d;
            border-left-color: #74c0fc;
            color: #74c0fc;
        }
        button {
            background-color: #1db954;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background-color: #1aa34a;
        }
        .spotify-config {
            background-color: #2d2d2d;
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
        }
        .spotify-config strong {
            color: #1db954;
        }
        a {
            color: #1db954;
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üéµ Configura√ß√£o do Spotify API</h1>
        <p>Instru√ß√µes para configurar corretamente o Spotify Developer Dashboard</p>
    </div>

    <div class="step warning">
        <h3>‚ö†Ô∏è Problema Identificado</h3>
        <p>O Spotify Dashboard est√° configurado para HTTPS, mas nossa aplica√ß√£o est√° rodando em HTTP. Vamos resolver isso de duas formas:</p>
        <ul>
            <li><strong>Op√ß√£o 1:</strong> Alterar o Dashboard para aceitar HTTP (mais f√°cil)</li>
            <li><strong>Op√ß√£o 2:</strong> Usar um servidor HTTPS (mais complexo)</li>
        </ul>
    </div>

    <div class="step">
        <h3>üîß Op√ß√£o 1: Alterar Configura√ß√£o do Dashboard (Recomendado)</h3>
        <p>Vamos alterar o Spotify Developer Dashboard para aceitar HTTP:</p>
        
        <ol>
            <li>Acesse o <a href="https://developer.spotify.com/dashboard" target="_blank">Spotify Developer Dashboard</a></li>
            <li>Clique no seu app "<strong>Spotify_clone</strong>"</li>
            <li>Clique em "<strong>Settings</strong>"</li>
            <li>Na se√ß√£o "<strong>Redirect URIs</strong>", remova:</li>
            <div class="code">https://localhost:3000/callback</div>
            <li>Adicione esta URI (com HTTP):</li>
            <div class="code">http://localhost:3000/callback</div>
            <li>Clique em "<strong>Save</strong>"</li>
        </ol>
        
        <p><strong>Depois de fazer essa altera√ß√£o:</strong></p>
        <button onclick="updateConfig()">üîÑ Atualizar Configura√ß√£o</button>
        <button onclick="testAuth()">üß™ Testar Autentica√ß√£o</button>
    </div>

    <div class="step info">
        <h3>üìã Configura√ß√£o Atual</h3>
        <div class="spotify-config">
            <strong>Client ID:</strong> ec8f1fadc6924058a977b84e6d2bf776<br>
            <strong>Client Secret:</strong> f417409093fc4ae4b7805573eb9f8230<br>
            <strong>Redirect URI Atual:</strong> <span id="current-uri">https://localhost:3000/callback</span><br>
            <strong>Redirect URI Correto:</strong> http://localhost:3000/callback
        </div>
    </div>

    <div class="step">
        <h3>üöÄ Op√ß√£o 2: Usar Servidor HTTPS (Avan√ßado)</h3>
        <p>Se voc√™ n√£o puder alterar o Dashboard, podemos usar um servidor HTTPS:</p>
        
        <button onclick="startHTTPS()">üîê Iniciar Servidor HTTPS</button>
        <button onclick="downloadCert()">üìÑ Baixar Certificado</button>
        
        <div class="code">
            # Para usar servidor HTTPS, execute:
            python spotify-api-project/https_server.py
        </div>
    </div>

    <div class="step success">
        <h3>‚úÖ Teste R√°pido</h3>
        <p>Depois de configurar o Dashboard, teste aqui:</p>
        
        <div id="test-results" style="margin: 15px 0; padding: 10px; background-color: #2d2d2d; border-radius: 5px;">
            <strong>Status:</strong> <span id="status">Aguardando configura√ß√£o...</span>
        </div>
        
        <button onclick="testConnection()">üîç Testar Conex√£o</button>
        <button onclick="openApp()">üéµ Abrir Aplica√ß√£o</button>
    </div>

    <script>
        function updateConfig() {
            // Atualiza a configura√ß√£o para HTTP
            const currentUri = document.getElementById('current-uri');
            currentUri.textContent = 'http://localhost:3000/callback';
            currentUri.style.color = '#51cf66';
            
            alert('‚úÖ Configura√ß√£o atualizada para HTTP!\\nAgora teste a aplica√ß√£o.');
        }

        function testAuth() {
            // Abre a p√°gina de teste
            window.open('http://localhost:3000/spotify-api-project/test-auth.html', '_blank');
        }

        function startHTTPS() {
            alert('üîê Para usar HTTPS:\\n\\n1. Abra um terminal\\n2. Execute: python spotify-api-project/https_server.py\\n3. Acesse: https://localhost:3000');
        }

        function downloadCert() {
            alert('üìÑ Certificado ser√° gerado automaticamente pelo servidor HTTPS.');
        }

        function testConnection() {
            const status = document.getElementById('status');
            status.textContent = 'Testando conex√£o...';
            status.style.color = '#74c0fc';
            
            // Simula teste de conex√£o
            setTimeout(() => {
                fetch('http://localhost:3000/spotify-api-project/config/config.js')
                    .then(response => {
                        if (response.ok) {
                            status.textContent = '‚úÖ Servidor funcionando!';
                            status.style.color = '#51cf66';
                        } else {
                            status.textContent = '‚ùå Servidor n√£o encontrado';
                            status.style.color = '#ff6b6b';
                        }
                    })
                    .catch(error => {
                        status.textContent = '‚ùå Erro de conex√£o';
                        status.style.color = '#ff6b6b';
                    });
            }, 1000);
        }

        function openApp() {
            window.open('http://localhost:3000/spotify-api-project/src/index.html', '_blank');
        }

        // Verifica status ao carregar a p√°gina
        window.addEventListener('DOMContentLoaded', () => {
            testConnection();
        });
    </script>
</body>
</html>
